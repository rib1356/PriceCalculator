webpackJsonp([1],{"1/oy":function(e,t){},"9M+g":function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("7+uW"),a=i("mvHQ"),r=i.n(a),s={name:"TextReader",data:function(){return{showAlert:!1,showAlert2:!1,disabled:!1}},head:{title:{inner:"AHills Price Calculator"}},methods:{handleFileSelect:function(e){var t=this,i=e.target.files;if(i[0].name.includes(".csv")){this.showAlert=!1,this.showAlert2=!1,this.disabled=!1;for(var n,a=0;n=i[a];a++){var s=new FileReader;s.onload=function(e){var i=t.parseCSVtoArrayofObjects(e.target.result,"\n",",");sessionStorage.setItem("itemInfo",r()(i))},s.readAsText(n)}}else this.showAlert=!0,this.disabled=!0},parseCSVtoArrayofObjects:function(e,t,i){for(var n=[],a=e.split(t),r=0;r<a.length-1;r++){if(""!=a[r]){var s=new this.saleItem,o=a[r].split(i);s.item_id=r,s.name=o[0],o[0].includes("�")&&(s.name=o[0].replace("�","")),s.container=o[1],s.specification=o[2],s.quantity=o[3],s.price=o[4],""!==o[3]&&""!==o[4]||(this.showAlert2=!0,this.disabled=!0,this.reset()),s.comments=o[5]}n.push(s)}return n},saleItem:function(e,t,i,n,a,r){},confirmEntry:function(){console.log("Data saved to session storage"),this.$router.push("editPage")},clearStorage:function(){sessionStorage.clear(),console.log("SessionStorage cleared");"PlantName Blah � C2".includes("�")&&console.log("IT INCLUDES THIS")},reset:function(){var e=this.$refs.fileInput;e.type="text",e.type="file"}},mounted:function(){window.File&&window.FileReader&&window.FileList&&window.Blob||alert("The File APIs are not fully supported in this browser.")}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"textReader"},[i("br"),e._v(" "),i("b-alert",{attrs:{variant:"danger",dismissible:"",fade:"",show:e.showAlert},on:{dismissed:function(t){e.showAlert=!1}}},[e._v("\n    Please upload CSV files only!\n  ")]),e._v(" "),i("b-alert",{attrs:{variant:"danger",dismissible:"",fade:"",show:e.showAlert2},on:{dismissed:function(t){e.showAlert=!1}}},[e._v("\n    Quanity/Buy Price may be empty please check the CSV file!\n  ")]),e._v(" "),i("input",{ref:"fileInput",attrs:{type:"file"},on:{change:e.handleFileSelect}}),e._v(" "),i("button",{attrs:{disabled:e.disabled},on:{click:e.confirmEntry}},[e._v("Confirm Entry")]),e._v(" "),i("br"),e._v(" "),i("button",{on:{click:e.clearStorage}},[e._v("Clear Storage")]),e._v(" "),i("br")],1)},staticRenderFns:[]},l=i("VU/8")(s,o,!1,null,null,null).exports,c={name:"EditPage",data:function(){return{rows:[{specification:"Column Totals",quantity:"",buyPrice:"",children:[]}],items:[],PriceBands:{priceBandA:46,priceBandB:42,priceBandC:35,priceBandD:33,priceBandE:29,priceBandF:24,priceBandG:21,priceBandH:20,priceBandI:19},columns:[{label:"Id",field:"id",type:"number",width:"25px"},{label:"Name",field:"name"},{label:"Container",field:"container"},{label:"Specification",field:"specification"},{label:"Quantity",field:"quantity",type:"number",headerField:this.totalQuantity},{label:"Buy Price",field:"buyPrice",type:"decimal",headerField:this.totalBuyPrice},{label:"Substitutes",field:"comments",sortable:!1,globalSearchDisabled:!0}]}},head:{title:{inner:"AHills Price Calculator"}},methods:{displayItems:function(e){for(var t=0;t<e.length;t++)this.rows[0].children.push({id:parseInt(e[t].item_id),name:e[t].name,container:e[t].container,specification:e[t].specification,quantity:parseInt(e[t].quantity),buyPrice:parseFloat(e[t].price),comments:e[t].comments})},totalQuantity:function(e){for(var t=0,i=0;i<e.children.length;i++)t+=e.children[i].quantity;return t},totalBuyPrice:function(e){for(var t=0,i=0;i<e.children.length;i++)t+=e.children[i].quantity*e.children[i].buyPrice;return t},createSalesPrices:function(){for(var e=JSON.parse(sessionStorage.getItem("itemInfo")),t=[],i=0;i<e.length;i++){var n=new this.saleItemPrices;n.bandA=(e[i].price/((100-this.PriceBands.priceBandA)/100)).toFixed(2),n.bandB=(e[i].price/((100-this.PriceBands.priceBandB)/100)).toFixed(2),n.bandC=(e[i].price/((100-this.PriceBands.priceBandC)/100)).toFixed(2),n.bandD=(e[i].price/((100-this.PriceBands.priceBandD)/100)).toFixed(2),n.bandE=(e[i].price/((100-this.PriceBands.priceBandE)/100)).toFixed(2),n.bandF=(e[i].price/((100-this.PriceBands.priceBandF)/100)).toFixed(2),n.bandG=(e[i].price/((100-this.PriceBands.priceBandG)/100)).toFixed(2),n.bandH=(e[i].price/((100-this.PriceBands.priceBandH)/100)).toFixed(2),n.bandI=(e[i].price/((100-this.PriceBands.priceBandI)/100)).toFixed(2);var a=e[i].quantity*e[i].price;n.rowTotal=a.toFixed(2),a>0&&a<=10?(n.estimatedPrice=n.bandA,n.gpm=this.PriceBands.priceBandA):a>=10.01&&a<=20?(n.estimatedPrice=n.bandB,n.gpm=this.PriceBands.priceBandB):a>=20.01&&a<=35?(n.estimatedPrice=n.bandC,n.gpm=this.PriceBands.priceBandC):a>=35.01&&a<=90?(n.estimatedPrice=n.bandD,n.gpm=this.PriceBands.priceBandD):a>=90.01&&a<=190?(n.estimatedPrice=n.bandE,n.gpm=this.PriceBands.priceBandE):a>=190.01&&a<=300?(n.estimatedPrice=n.bandF,n.gpm=this.PriceBands.priceBandF):a>=300.01&&a<=600?(n.estimatedPrice=n.bandG,n.gpm=this.PriceBands.priceBandG):a>=600.01&&a<=900?(n.estimatedPrice=n.bandH,n.gpm=this.PriceBands.priceBandH):(n.estimatedPrice=n.bandI,n.gpm=this.PriceBands.priceBandI),t.push(n)}return t},saleItemPrices:function(e,t,i,n,a,r,s,o,l,c,d,u){},confirmEntry:function(){var e=this.createSalesPrices();sessionStorage.setItem("itemSalePrices",r()(e)),this.$router.push("finalPage")}},mounted:function(){var e=JSON.parse(sessionStorage.getItem("itemInfo"));this.displayItems(e)}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"editPage"},[t("vue-good-table",{staticStyle:{border:"2px solid #dcdfe6"},attrs:{columns:this.columns,rows:this.rows,styleClass:"vgt-table bordered condensed","max-height":"700px","fixed-header":!0,"search-options":{enabled:!0},"group-options":{enabled:!0,headerPosition:"bottom"}}}),this._v(" "),t("br"),this._v(" "),t("button",{on:{click:this.confirmEntry}},[this._v("Confirm Entry")])],1)},staticRenderFns:[]};var u=i("VU/8")(c,d,!1,function(e){i("ynZd")},null,null).exports,p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("p",[this._v("This page will be used for the admin preferences!")]),this._v(" "),t("p",[this._v("Currently just populating the page navigation")])])}]},h=i("VU/8")({},p,!1,null,null,null).exports,m={name:"FinalPage",data:function(){return{rows:[{specification:"Column Totals",quantity:"",buyPrice:"",children:[]}],items:[],columns:[{label:"Id",field:"id",type:"number",width:"25px"},{label:"Name",field:"name",width:"250px"},{label:"Container",field:"container",width:"60px"},{label:"Specification",field:"specification",width:"50px"},{label:"Quantity",field:"quantity",type:"number",width:"35px",headerField:this.totalQuantity},{label:"Buy Price",field:"buyPrice",type:"decimal",width:"120px",headerField:this.totalBuyPrice},{label:"Substitutes",field:"comments",sortable:!1,width:"150px",globalSearchDisabled:!0},{label:"Row Total",field:"rowTotal",type:"number"},{label:"GPM%",field:"gpm",type:"number",headerField:this.totalGPM},{label:"Estimated Sell Price (based off rowTotals)",field:"estimatedPrice",type:"number",headerField:this.totalSellPrice}],profit:"Press button"}},head:{title:{inner:"AHills Price Calculator"},link:[{rel:"stylesheet",type:"text/css",href:"/static/print.css",media:"print"}]},methods:{displayItems:function(e,t){for(var i=0;i<e.length;i++)this.rows[0].children.push({id:parseInt(e[i].item_id),name:e[i].name,container:e[i].container,specification:e[i].specification,quantity:parseInt(e[i].quantity),buyPrice:parseFloat(e[i].price),comments:e[i].comments,rowTotal:t[i].rowTotal,gpm:t[i].gpm,estimatedPrice:t[i].estimatedPrice})},totalQuantity:function(e){for(var t=0,i=0;i<e.children.length;i++)t+=e.children[i].quantity;return t},totalBuyPrice:function(e){for(var t=0,i=0;i<e.children.length;i++)t+=e.children[i].quantity*e.children[i].buyPrice;return this.totalBuyPrice=t.toFixed(2),t},totalSellPrice:function(e){for(var t=0,i=0;i<e.children.length;i++)t+=e.children[i].quantity*e.children[i].estimatedPrice;return this.totalSellPrice=t.toFixed(2),t.toFixed(2)},totalGPM:function(e){for(var t=0,i=0;i<e.children.length;i++)t+=e.children[i].gpm/e.children.length;return t.toFixed(2)},calcProfit:function(){this.profit=(this.totalSellPrice-this.totalBuyPrice).toFixed(2)},printTable:function(){window.frames.print_frame.document.body.innerHTML=document.getElementById("table").innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}},mounted:function(){var e=JSON.parse(sessionStorage.getItem("itemInfo")),t=JSON.parse(sessionStorage.getItem("itemSalePrices"));this.displayItems(e,t)}},f={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editPage"},[i("vue-good-table",{staticStyle:{border:"1px solid #dcdfe6"},attrs:{id:"table",columns:e.columns,rows:e.rows,styleClass:"vgt-table bordered condensed","max-height":"700px","fixed-header":!0,"search-options":{enabled:!0},"group-options":{enabled:!0,headerPosition:"bottom"}}}),e._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("p",[i("button",{on:{click:e.calcProfit}},[e._v("Calculate Profit")]),e._v(" Total Profit: "+e._s(e.profit)+" ")]),e._v(" "),i("iframe",{attrs:{name:"print_frame",width:"0",height:"0",src:"finalPage:blank"}}),e._v(" "),i("button",{on:{click:e.printTable}},[e._v("Print Table")])])],1)},staticRenderFns:[]};var b=i("VU/8")(m,f,!1,function(e){i("p7Pw")},null,null).exports,P={name:"app",data:function(){return{text:""}},head:{title:{inner:"AHills Price Calculator"},link:[]},components:{TextReader:l,EditPage:u,About:h,FinalDisplayPage:b}},v={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("link",{attrs:{rel:"icon",src:"./assets/AHillandSonsLogo.png"}}),e._v(" "),i("div",[i("b-nav",{attrs:{tabs:""}},[i("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),e._v(" "),i("b-nav-item",{attrs:{to:"/editPage"}},[e._v("Edit Page")]),e._v(" "),i("b-nav-item",{attrs:{to:"/finalPage"}},[e._v("Final Page")]),e._v(" "),i("b-nav-item",{attrs:{to:"/about"}},[e._v("About")])],1)],1),e._v(" "),i("router-view")],1)},staticRenderFns:[]};var g=i("VU/8")(P,v,!1,function(e){i("zHvU")},null,null).exports,y=i("/ocq"),w=i("RZCy"),B=i.n(w),_=i("e6fC"),x=(i("Jmt5"),i("9M+g"),i("cOEn")),F=i("sttX");i("gfot");n.a.use(F.a),n.a.use(y.a),n.a.use(B.a),n.a.use(_.a),n.a.use(x.Navbar),n.a.use(x.Nav);var S=new y.a({routes:[{path:"/",name:"TextReader",component:l},{path:"/editPage",name:"EditPage",component:u},{path:"/finalPage",name:"FinalDisplayPage",component:b},{path:"/about",name:"About",component:h}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:S,render:function(e){return e(g)}})},gfot:function(e,t){},p7Pw:function(e,t){},ynZd:function(e,t){},zHvU:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.db00a96d6d2c7b9b9b0b.js.map